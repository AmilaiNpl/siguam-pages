(this.webpackJsonpSIGUAM=this.webpackJsonpSIGUAM||[]).push([[14],{1645:function(a,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return h}));var r=t(55),c=t.n(r),n=t(95),i=t(11),s=t(0),o=t(83),d=t(968),l=t(606),u=t(96),m=t(499),j=t(1),b=[],p=null;function h(a){var e=Object(s.useState)([]),t=Object(i.a)(e,2),r=t[0],h=t[1],O=Object(s.useState)([]),x=Object(i.a)(O,2),f=x[0],v=x[1],g=Object(s.useState)(!1),_=Object(i.a)(g,2),y=_[0],T=(_[1],Object(s.useState)(!1)),N=Object(i.a)(T,2),C=N[0],S=N[1],q=Object(s.useState)(!0),w=Object(i.a)(q,2),A=w[0],k=w[1];function E(){return(E=Object(n.a)(c.a.mark((function a(){var e;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return k(!0),a.next=3,Object(o.a)().getUsuarioLogado(p.sub,"?campos=id,numero");case 3:return e=a.sent,a.next=6,Object(o.a)().getDocenteByNumero(e.data.numero,"?campos=id,numero");case 6:b=a.sent,P(),k(!1),S(!C);case 10:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function P(){return I.apply(this,arguments)}function I(){return(I=Object(n.a)(c.a.mark((function a(){var e,t,r,n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all([Object(o.a)().getTurmasProfessor("/".concat(b.data.id,"?campos=id,semestre,turma,anoLectivo,cadeira.id,cadeira.codigo,cadeira.nome,curso,docente.id,docente.nome,docente.apelido")),Object(o.a)().getCalendario("?campos=id,avaliacao,ordem,cadeiras.id,cadeiras.nome,dataRealizacao")]);case 2:e=a.sent,t=Object(i.a)(e,2),r=t[0],n=t[1],v(n.data),h(r.data),S(!C);case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(s.useEffect)((function(){p=u.a.getCurrentUser(),function(){E.apply(this,arguments)}(),setTimeout((function(){k(!1)}),5e3)}),[]),Object(j.jsx)("div",{style:{maxWidth:800,margin:"30px auto"},children:A?Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"20%"},children:Object(j.jsx)(m.a,{color:"#36d7b7"})}):Object(j.jsx)("div",{children:r.length>0?r.map((function(e){return Object(j.jsx)(d.a,{cadeira:e,data:f,exame:y,url:a.location.pathname},e.id)})):Object(j.jsx)(l.a,{severity:"warning",children:"N\xe3o possui turmas no momento. Porfavor contacte o seu Departamento"})})})}},688:function(a,e,t){},968:function(a,e,t){"use strict";var r=t(55),c=t.n(r),n=t(95),i=t(11),s=t(0),o=t.n(s),d=t(44),l=(t(688),t(753)),u=t(315),m=t(652),j=t(992),b=t(1497),p=t(1606),h=t(1607),O=t(914),x=t(1139),f=t(535),v=t(1608),g=t(185),_=t.n(g),y=t(83),T=t(1094),N=t(1592),C=t(1666),S=t(1),q=[];e.a=function(a){var e=a.cadeira,t=a.data,r=a.exame,g=a.url,w=e,A=Object(s.useState)(!1),k=Object(i.a)(A,2),E=k[0],P=k[1],I=o.a.useState(!1),L=Object(i.a)(I,2),M=L[0],D=L[1],R=Object(s.useState)(!1),W=Object(i.a)(R,2),B=W[0],U=W[1],z=function(a){a.preventDefault(),D(!0),P(!0)},G=function(){P(!1)};function J(){return Q.apply(this,arguments)}function Q(){return(Q=Object(n.a)(c.a.mark((function a(){var e,t,r,n,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all([Object(y.a)().getTipoAvaliacoes(),Object(y.a)().getAvaliacoes(),Object(y.a)().getTurmaCadeirabyCadeiraAndTurma("/".concat(w.cadeira.id,"/").concat(w.turma.id,"?campos=id,anoLectivo,turma,cadeira"))]);case 2:e=a.sent,t=Object(i.a)(e,3),r=t[0],n=t[1],s=t[2],q=r.data,n.data,s.data,U(!B);case 11:case"end":return a.stop()}}),a)})))).apply(this,arguments)}Object(s.useEffect)((function(){J()}),[]);var V=u.b().shape({qtdtrabalho:u.a().min(1,"O n\xfamero m\xednimo de avalicoes \xe9 de 1").required("Campo Obrigatorio"),qtdTeste:u.a().min(2,"O n\xfamero m\xednimo de avalicoes \xe9 de 2").required("Campo Obrigatorio")}),F=q.filter((function(a){return"Exame"!==a&&"Rec"!==a&&"Trab"!==a})),H=q.filter((function(a){return"Exame"!==a&&"Rec"!==a&&"Teste"!==a}));return Object(S.jsxs)("div",{className:"cadeira-card",children:[Object(S.jsxs)("div",{className:"cadeira-card__info",children:[Object(S.jsxs)("div",{className:"cadeira-card__titulo",children:[Object(S.jsx)("span",{className:"cadeira-card__codigo",children:" Cadeira:"})," ",w.cadeira.nome," ",Object(S.jsxs)("span",{className:"cadeira-card__codigo",children:[" Curso: ",w.curso.nome," "]})," ",Object(S.jsxs)("span",{className:"title_turma",children:["Turma:",Object(S.jsx)("span",{className:"turma",children:w.turma.turma})]})," "]}),Object(S.jsx)("br",{}),Object(S.jsx)("footer",{className:"cadeira-card__semestre",children:Object(S.jsxs)("span",{children:["Semestre:  ",Object(S.jsxs)("span",{className:"cadeira-card__titulo",children:[" ",w.semestre]})]})}),Object(S.jsx)("span",{className:"cadeira-card__codigo",children:"Codigo:"})," ",Object(S.jsx)("span",{className:"cadeira-card__titulo",children:w.cadeira.codigo}),Object(S.jsxs)("footer",{className:"cadeira-card__footer",children:[t.map((function(a){var e="Teste"===a.avaliacao&&1===a.ordem;if(a.cadeiras.find((function(a){return a.id===w.cadeira.id}))&&e){var t=new Date(a.dataRealizacao),r=Object(T.a)(t,7),c=Object(N.a)(r,"d MMMM yyyy",{locale:C.a}),n="\xdaltimo dia de Lan\xe7amento das notas  ".concat(1===a.ordem?" das Primeiras Avalia\xe7\xf5es":2===a.ordem?" das Segundas Avalia\xe7\xf5es ":"Exame"===a.avaliacao?"do Exame Normal":" de Recorr\xeancia","  ");return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:n}),Object(S.jsx)("div",{children:c})]},a.id)}return null})),Object(S.jsx)("div",{className:"cadeira-card__comments-count"}),"/teacher/notas/pauta"==g?Object(S.jsx)(j.a,{className:"cadeira-card__pauta",onClick:z,style:{display:r?"none":"block"},children:"Imprimir Pauta"}):Object(S.jsx)(j.a,{className:"cadeira-card__pauta",onClick:z,style:{display:r?"none":"block"},children:"Difinir Avalia\xe7\xf5es"}),"/teacher/notas/pauta"==g?Object(S.jsx)(d.c,{className:"cadeira-card__pauta",to:"/teacher/pauta?cadeira=".concat(btoa(w.cadeira.id),"&curso=").concat(btoa(w.curso.id),"&turma=").concat(btoa(w.turma.id)),children:"Ver a Pauta"}):r?Object(S.jsx)(d.c,{className:"cadeira-card__pauta",to:"/teacher/notasExame?cadeira=".concat(btoa(w.cadeira.id),"&curso=").concat(btoa(w.curso.id),"&turma=").concat(btoa(w.turma.id)),children:"Lan\xe7ar Notas de Exame"}):Object(S.jsx)(d.c,{className:"cadeira-card__pauta",to:"/pauta/pautaCadeira?cadeira=".concat(btoa(w.cadeira.id),"&curso=").concat(btoa(w.curso.id),"&turma=").concat(btoa(w.turma.id)),children:"Lan\xe7ar Notas"})]})]}),E&&Object(S.jsxs)(l.a,{open:M,onClose:G,"aria-labelledby":"form-dialog-title",children:[Object(S.jsx)(b.a,{id:"form-dialog-title",children:"Tipo da Avalia\xe7\xe3o"}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(h.a,{children:"Por favor, defina o tipo de avalia\xe7\xe3o e a quantidade de avalia\xe7\xf5es"}),Object(S.jsx)(m.d,{initialValues:{},validationSchema:V,onSubmit:function(){var a=Object(n.a)(c.a.mark((function a(e,t){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.setSubmitting,a.prev=1,e.cadeira=w.cadeira,e.turma=w.turma,a.next=6,Promise.resolve(Object(y.a)().postAvalicoes([e]));case 6:_.a.fire("\xcaxito!","Avalia\xe7\xe3o cadastrada com sucesso!","success"),G(),J(),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),a.t0.response.status>=500?(_.a.fire({icon:"error",title:"Erro",text:a.t0.response.data.message,footer:"Se o erro persistir, por favor, entre em contacto com o Centro Inform\xe1tico"}),G()):a.t0.response.status<500&&(_.a.fire({icon:"warning",title:"Informa\xe7\xe3o",text:a.t0.response.data.message,footer:"Se o erro persistir, por favor, entre em contacto com o seu departamento"}),G());case 14:r(!1);case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}(),children:function(a){var e=a.values,t=a.touched,r=a.errors,c=a.isSubmitting,n=a.handleChange,i=a.handleBlur;a.handleSubmit;return Object(S.jsxs)(m.c,{children:[Object(S.jsxs)(O.a,{container:!0,spacing:2,children:[Object(S.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(x.a,{type:"text",variant:"outlined",name:"teste",error:r.teste&&t.teste,helperText:r.teste,onChange:n,select:!0,value:e.teste,margin:"dense",id:"teste",fullWidth:!0,label:"Tipo de Avalia\xe7\xe3o",children:F.map((function(a){return Object(S.jsx)(f.a,{value:a,children:a},a)}))})}),Object(S.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(x.a,{type:"text",variant:"outlined",name:"qtdTeste",error:r.qtdTeste&&t.qtdTeste,helperText:r.qtdTeste,onChange:n,onBlur:i,value:e.qtdTeste,margin:"dense",id:"qtdTeste",fullWidth:!0,label:"Quantidades de avaliacoes"})}),Object(S.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(x.a,{type:"text",variant:"outlined",name:"trabalho",error:r.trabalho&&t.trabalho,helperText:r.trabalho,onChange:n,select:!0,value:e.trabalho,margin:"dense",id:"trabalho",fullWidth:!0,label:"Tipo de Avaliacao",children:H.map((function(a){return Object(S.jsx)(f.a,{value:a,children:a},a)}))})}),Object(S.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(x.a,{type:"text",variant:"outlined",name:"qtdtrabalho",error:r.qtdtrabalho&&t.qtdtrabalho,helperText:r.qtdtrabalho,onChange:n,onBlur:i,value:e.qtdtrabalho,margin:"dense",id:"qtdtrabalho",fullWidth:!0,label:"Quantidades de trabalhos"})})]}),Object(S.jsxs)(v.a,{children:[Object(S.jsx)(j.a,{onClick:G,children:"Cancelar"}),Object(S.jsx)(j.a,{type:"submit",disabled:c,children:"Salvar"})]})]})}})]})]})]},w.id)}}}]);
//# sourceMappingURL=14.06ddd1ac.chunk.js.map