(this.webpackJsonpSIGUAM=this.webpackJsonpSIGUAM||[]).push([[41],{1505:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var c=n(40),o=r(n(0)),a=n(75);n(7),n(98);var i=r(n(71));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function u(e,t){if(null==e)return{};var n,r,c={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(c[n]=e[n]);return c}var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))||this).history=a.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return o.createElement(c.Router,{history:this.history,children:this.props.children})},t}(o.Component),j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))||this).history=a.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return o.createElement(c.Router,{history:this.history,children:this.props.children})},t}(o.Component),h=function(e,t){return"function"==typeof e?e(t):e},f=function(e,t){return"string"==typeof e?a.createLocation(e,null,null,t):e},b=function(e){return e},p=o.forwardRef;void 0===p&&(p=b);var m=p((function(e,t){var n=e.innerRef,r=e.navigate,c=e.onClick,a=u(e,["innerRef","navigate","onClick"]),i=a.target,l=s({},a,{onClick:function(t){try{c&&c(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=b!==p&&t||n,o.createElement("a",l)})),O=p((function(e,t){var n=e.component,r=void 0===n?m:n,a=e.replace,l=e.to,d=e.innerRef,j=u(e,["component","replace","to","innerRef"]);return o.createElement(c.__RouterContext.Consumer,null,(function(e){e||i(!1);var n=e.history,c=f(h(l,e.location),e.location),u=c?n.createHref(c):"",m=s({},j,{href:u,navigate:function(){var t=h(l,e.location);(a?n.replace:n.push)(t)}});return b!==p?m.ref=t||d:m.innerRef=d,o.createElement(r,m)}))})),v=function(e){return e},x=o.forwardRef;void 0===x&&(x=v);var y=x((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.activeClassName,l=void 0===a?"active":a,d=e.activeStyle,j=e.className,b=e.exact,p=e.isActive,m=e.location,y=e.sensitive,g=e.strict,N=e.style,P=e.to,R=e.innerRef,S=u(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(c.__RouterContext.Consumer,null,(function(e){e||i(!1);var n=m||e.location,a=f(h(P,n),n),u=a.pathname,C=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=C?c.matchPath(n.pathname,{path:C,exact:b,sensitive:y,strict:g}):null,E=!!(p?p(w,n):w),D=E?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(j,l):j,M=E?s({},N,{},d):N,_=s({"aria-current":E&&r||null,className:D,style:M,to:a},S);return v!==x?_.ref=t||R:_.innerRef=R,o.createElement(O,_)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return c.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return c.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return c.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return c.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return c.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return c.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return c.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return c.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return c.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return c.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return c.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return c.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return c.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return c.withRouter}}),t.BrowserRouter=d,t.HashRouter=j,t.Link=O,t.NavLink=y},1671:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var r=n(55),c=n.n(r),o=n(15),a=n(95),i=n(11),s=n(0),l=n(1),u=function(e){var t=e.individualExcelData;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("th",{children:t.numero}),Object(l.jsx)("th",{children:t.apelido}),Object(l.jsx)("th",{children:t.nome}),Object(l.jsx)("th",{children:t.pai}),Object(l.jsx)("th",{children:t.mae}),Object(l.jsx)("th",{children:t.sexo}),Object(l.jsx)("th",{children:t.dataNascimento}),Object(l.jsx)("th",{children:t.tipoDocumento}),Object(l.jsx)("th",{children:t.numeroDocumento}),Object(l.jsx)("th",{children:t.dataEmissao}),Object(l.jsx)("th",{children:t.nuit}),Object(l.jsx)("th",{children:t.telemovel}),Object(l.jsx)("th",{children:t.email}),Object(l.jsx)("th",{children:t.nacionalidade}),Object(l.jsx)("th",{children:t.naturalidade}),Object(l.jsx)("th",{children:t.cidade}),Object(l.jsx)("th",{children:t.curso}),Object(l.jsx)("th",{children:t.curriculo}),Object(l.jsx)("th",{children:t.tipoDisposetivo}),Object(l.jsx)("th",{children:t.incorporacao}),Object(l.jsx)("th",{children:t.situacao})]})},d=function(e){return e.excelData.map((function(e){return Object(l.jsx)("tr",{children:Object(l.jsx)(u,{individualExcelData:e})},e.referencia)}))},j=n(1103),h=(n(966),n(1102),n(992)),f=n(590),b=n(682),p=n.n(b),m=n(83),O=n(499),v=n(1505),x=n(1100),y=n.n(x),g=n(185),N=n.n(g),P=Object(f.a)((function(){return{root:{"&:hover":{backgroundColor:"transparent"}}}})),R=[],S=[],C=[],w=[],E=[],D=[],M={};function _(){var e=P(),t=Object(s.useState)(null),n=Object(i.a)(t,2),r=n[0],u=n[1],f=Object(s.useState)(null),b=Object(i.a)(f,2),x=b[0],g=b[1],_=Object(s.useState)(!0),k=Object(i.a)(_,2),A=k[0],F=k[1],T=Object(s.useState)(!0),Y=Object(i.a)(T,2),H=Y[0],I=(Y[1],Object(s.useState)(!0)),L=Object(i.a)(I,2),G=L[0],K=(L[1],Object(s.useState)(null)),B=Object(i.a)(K,2),J=B[0],U=(B[1],Object(s.useState)(null)),$=Object(i.a)(U,2),q=$[0],z=$[1],V=Object(s.useState)(null),Q=Object(i.a)(V,2),W=Q[0],X=Q[1],Z=Object(s.useState)(!1),ee=Object(i.a)(Z,2),te=ee[0],ne=ee[1],re=Object(s.useState)(!0),ce=Object(i.a)(re,2),oe=ce[0],ae=ce[1],ie=Object(s.useState)(""),se=Object(i.a)(ie,2),le=se[0],ue=se[1],de=Object(s.useState)(!1),je=Object(i.a)(de,2),he=je[0],fe=je[1],be=Object(s.useState)(!1),pe=Object(i.a)(be,2),me=pe[0],Oe=pe[1];function ve(){return(ve=Object(a.a)(c.a.mark((function e(){var t,n,r,o,a,s,l,u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!0),e.next=3,Promise.all([Object(m.a)().buscarSexo(),Object(m.a)().buscarDocumentoEst(),Object(m.a)().buscarCurso("?campos=id,nome"),Object(m.a)().buscarPaises(),Object(m.a)().buscarProvincia("?campos=id,name,country_id.id"),Object(m.a)().buscarCidades("?campos=id,name,regiaoPai.id,regiaoPai.name"),Object(m.a)().buscarCurriculos()]);case 3:t=e.sent,n=Object(i.a)(t,7),r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],d=n[6],R=r.data,o.data,S=l.data,w=u.data,C=s.data,E=a.data,D=d.data,ae(!1),ne(!te);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){ve.apply(this,arguments)}(),setTimeout((function(){ae(!1)}),2e3)}),[]);var xe=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];function ye(e){return e.replace(/\s+/g," ")}function ge(){return(ge=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Oe(!0),e.next=4,Promise.resolve(Object(m.a)().postEstudantes(t));case 4:N.a.fire("Exito!","Salvou com sucesso!","success"),ue("/inscrito/list"),fe(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response.status>=500?N.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.message,footer:"Se o erro pressistir porfavor contacte o centro Informatico"}):e.t0.response.status<500&&N.a.fire({icon:"warning",title:"Oops...",text:e.t0.response.data.message});case 12:return e.prev=12,Oe(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}return he?Object(l.jsx)(v.Redirect,{to:le}):Object(l.jsx)("div",{children:oe?Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"20%"},children:Object(l.jsx)(O.a,{color:"#36d7b7"})}):Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"alert alert-danger",role:"alert",hidden:H,children:J}),Object(l.jsx)("div",{className:"alert alert-primary",role:"alert",hidden:G,children:"Estudantes Salvo suceso"}),Object(l.jsx)("div",{className:"form",children:Object(l.jsxs)("form",{className:"form-group",autoComplete:"off",onSubmit:function(e){if(F(!1),e.preventDefault(),null!==r){var t=j.a(r,{type:"buffer"}),n=t.SheetNames[0],c=t.Sheets[n],a=j.b.sheet_to_json(c).map((function(e){var t=S.find((function(t){return t.name===e.naturalidade})),n=w.find((function(t){return t.name===e.cidade})),r=E.find((function(t){return ye(t.nome)==ye(e.curso)}));if(void 0!==e.curriculo){var c,o=null===(c=D)||void 0===c?void 0:c.find((function(t){return t.ano===e.curriculo})),a=o||null;e.curriculo=a}else g("O ficheiro n\xe3o contem curriculo para o curso ".concat(e.nome));var i=t||null,s=n||null,l=r||null,u=C.find((function(t){return ye(t.name)===ye(e.nacionalidade)}));if(M=u||null,"F"===e.sexo&&(e.sexo="Femenino"),"M"===e.sexo&&(e.sexo="Masculino"),e.nacionalidade=M,e.naturalidade=i,e.cidade=s,e.curso=l,void 0!==e.dataNascimento){var d,j=null===(d=e.dataNascimento)||void 0===d?void 0:d.split("-");e.dataNascimento="".concat(j[2],"-").concat(j[1],"-").concat(j[0])}if(void 0!==e.dataEmissao){var h,f=null===(h=e.dataEmissao)||void 0===h?void 0:h.split("-");e.dataEmissao="".concat(f[2],"-").concat(f[1],"-").concat(f[0])}if(void 0!==e.incorporacao){var b,p=null===(b=e.incorporacao)||void 0===b?void 0:b.split("-");e.incorporacao="".concat(p[2],"-").concat(p[1],"-").concat(p[0])}return e}));X(a);var i=a.map((function(e){var t,n=/Masculino|Feminino/i,r=R.find((function(e){return n.test(e)})),c=r||null,a=S.find((function(t){var n;return t.name===(null===(n=e.naturalidade)||void 0===n?void 0:n.name)}));a||g("N\xe3o encontrou Prov\xedncia do estudante ".concat(e.nome));var i=w.find((function(t){var n;return t.name===(null===(n=e.cidade)||void 0===n?void 0:n.name)}));i||g("N\xe3o encontrou distrito do estudante ".concat(e.nome));var s=E.find((function(t){var n;return t.nome===(null===(n=e.curso)||void 0===n?void 0:n.nome)}));s||g("N\xe3o encontrou Curso do estudante ".concat(e.nome)),e.curriculo||g("N\xe3o encontrou Curriculo para o curso de ".concat(e.curso.nome," ")),e.dataNascimento||g("O campo data de Nascimento e obrigatorio: "+e.nome);var l=a||null,u=i||null,d=s||null;M=e.nacionalidade?e.nacionalidade:null;var j=y()(e.dataNascimento,"YYYY-MM-DD");return Object(o.a)(Object(o.a)({},e),{},{Genero:c,nacionalidade:null===(t=M)||void 0===t?void 0:t.name,naturalidade:null===l||void 0===l?void 0:l.name,cidade:null===u||void 0===u?void 0:u.name,curriculo:e.curriculo.ano,curso:null===d||void 0===d?void 0:d.nome,dataNascimento:j.format("DD/MM/YYYY ")})}));z(i)}else z(null)},children:[Object(l.jsx)("h5",{children:"Carregar Estudantes"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"file",className:"form-control",onChange:function(e){var t=e.target.files[0];if(t)if(t&&xe.includes(t.type)){var n=new FileReader;n.readAsArrayBuffer(t),n.onload=function(e){g(null),u(e.target.result)}}else g("Por favor selecione um ficheiro excel"),u(null);else console.log("Por favor selecione um ficheiro")},required:!0}),x&&Object(l.jsx)("div",{className:"text-danger",style:{marginTop:"5px"},children:x}),Object(l.jsx)("button",{className:"btn btn-success",style:{marginTop:"5px"},children:"Visualisar"})]})}),Object(l.jsx)("br",{}),Object(l.jsx)("hr",{}),Object(l.jsx)("h5",{children:"Lista de Pagamentos"}),Object(l.jsxs)("div",{className:"viewer",children:[null===q&&Object(l.jsx)(l.Fragment,{children:"Nenhum conteudo selecionado"}),null!==q&&Object(l.jsx)("div",{className:"table-responsive",children:Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"N\xfamero"}),Object(l.jsx)("th",{scope:"col",children:"Apelido"}),Object(l.jsx)("th",{scope:"col",children:"Nome"}),Object(l.jsx)("th",{scope:"col",children:"Filia\xe7\xe3o (Nome do Pai)"}),Object(l.jsx)("th",{scope:"col",children:"Filia\xe7\xe3o (Nome da M\xe3e)"}),Object(l.jsx)("th",{scope:"col",children:"Genero"}),Object(l.jsx)("th",{scope:"col",children:"Data Nascimento"}),Object(l.jsx)("th",{scope:"col",children:"Tipo de Documento"}),Object(l.jsx)("th",{scope:"col",children:"N\xfamero do Documeto"}),Object(l.jsx)("th",{scope:"col",children:"Data Emissao"}),Object(l.jsx)("th",{scope:"col",children:"Nuit"}),Object(l.jsx)("th",{scope:"col",children:"Telemovel"}),Object(l.jsx)("th",{scope:"col",children:"Email"}),Object(l.jsx)("th",{scope:"col",children:"Nacionalidade"}),Object(l.jsx)("th",{scope:"col",children:"Prov\xedncia"}),Object(l.jsx)("th",{scope:"col",children:"Distrito"}),Object(l.jsx)("th",{scope:"col",children:"Curso"}),Object(l.jsx)("th",{scope:"col",children:"Curriculo"}),Object(l.jsx)("th",{scope:"col",children:"Tipo de disposetivo Electronico"}),Object(l.jsx)("th",{scope:"col",children:"Data de Incorporacao"})]})}),Object(l.jsx)("tbody",{children:Object(l.jsx)(d,{excelData:q})})]})})]}),me&&Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"20%"},children:Object(l.jsx)(O.a,{color:"#36d7b7"})}),!x&&Object(l.jsx)(h.a,{variant:"contained",color:"primary",type:"submit",size:"large",onClick:function(){!function(e){ge.apply(this,arguments)}(W)},className:e.button,startIcon:Object(l.jsx)(p.a,{}),style:{float:"right"},hidden:A,children:"Salvar"})]})})}},966:function(e,t,n){}}]);
//# sourceMappingURL=41.a2b3f8ad.chunk.js.map