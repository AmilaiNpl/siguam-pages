(this.webpackJsonpSIGUAM=this.webpackJsonpSIGUAM||[]).push([[42],{1647:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return m}));var r=t(55),c=t.n(r),i=t(95),n=t(11),s=t(0),o=t(83),d=t(968),l=t(606),u=t(1);function m(){var e=Object(s.useState)([]),a=Object(n.a)(e,2),t=a[0],r=a[1],m=Object(s.useState)(!0),b=Object(n.a)(m,2),j=b[0];b[1];Object(s.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]);var h=new Date,p=new Array(["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]),x=h.getDate()+" de "+p[h.getMonth()]+" de "+h.getFullYear();function O(){return(O=Object(i.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(Object(o.a)().getTurmasProfessor("/".concat(714,"?campos=id,semestre,turma,anoLectivo,cadeira.id,cadeira.codigo,cadeira.nome,curso,docente.id,docente.nome,docente.apelido")));case 2:a=e.sent,r(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsx)("div",{style:{maxWidth:800,margin:"30px auto"},children:t.length>0?t.map((function(e){return Object(u.jsx)(d.a,{cadeira:e,cad:x,exame:j},e.id)})):Object(u.jsx)(l.a,{severity:"warning",children:"N\xe3o possui turmas no momento. Porfavor contacte o seu Departamento"})})}},688:function(e,a,t){},968:function(e,a,t){"use strict";var r=t(55),c=t.n(r),i=t(95),n=t(11),s=t(0),o=t.n(s),d=t(44),l=(t(688),t(753)),u=t(315),m=t(652),b=t(992),j=t(1497),h=t(1606),p=t(1607),x=t(914),O=t(1139),v=t(535),f=t(1608),g=t(185),_=t.n(g),y=t(83),N=t(1094),T=t(1592),C=t(1666),S=t(1),q=[];a.a=function(e){var a=e.cadeira,t=e.data,r=e.exame,g=e.url,A=a,w=Object(s.useState)(!1),k=Object(n.a)(w,2),E=k[0],M=k[1],P=o.a.useState(!1),D=Object(n.a)(P,2),I=D[0],J=D[1],L=Object(s.useState)(!1),W=Object(n.a)(L,2),R=W[0],B=W[1],z=function(e){e.preventDefault(),J(!0),M(!0)},F=function(){M(!1)};function G(){return Q.apply(this,arguments)}function Q(){return(Q=Object(i.a)(c.a.mark((function e(){var a,t,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(y.a)().getTipoAvaliacoes(),Object(y.a)().getAvaliacoes(),Object(y.a)().getTurmaCadeirabyCadeiraAndTurma("/".concat(A.cadeira.id,"/").concat(A.turma.id,"?campos=id,anoLectivo,turma,cadeira"))]);case 2:a=e.sent,t=Object(n.a)(a,3),r=t[0],i=t[1],s=t[2],q=r.data,i.data,s.data,B(!R);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){G()}),[]);var U=u.b().shape({qtdtrabalho:u.a().min(1,"O n\xfamero m\xednimo de avalicoes \xe9 de 1").required("Campo Obrigatorio"),qtdTeste:u.a().min(2,"O n\xfamero m\xednimo de avalicoes \xe9 de 2").required("Campo Obrigatorio")}),V=q.filter((function(e){return"Exame"!==e&&"Rec"!==e&&"Trab"!==e})),Y=q.filter((function(e){return"Exame"!==e&&"Rec"!==e&&"Teste"!==e}));return Object(S.jsxs)("div",{className:"cadeira-card",children:[Object(S.jsxs)("div",{className:"cadeira-card__info",children:[Object(S.jsxs)("div",{className:"cadeira-card__titulo",children:[Object(S.jsx)("span",{className:"cadeira-card__codigo",children:" Cadeira:"})," ",A.cadeira.nome," ",Object(S.jsxs)("span",{className:"cadeira-card__codigo",children:[" Curso: ",A.curso.nome," "]})," ",Object(S.jsxs)("span",{className:"title_turma",children:["Turma:",Object(S.jsx)("span",{className:"turma",children:A.turma.turma})]})," "]}),Object(S.jsx)("br",{}),Object(S.jsx)("footer",{className:"cadeira-card__semestre",children:Object(S.jsxs)("span",{children:["Semestre:  ",Object(S.jsxs)("span",{className:"cadeira-card__titulo",children:[" ",A.semestre]})]})}),Object(S.jsx)("span",{className:"cadeira-card__codigo",children:"Codigo:"})," ",Object(S.jsx)("span",{className:"cadeira-card__titulo",children:A.cadeira.codigo}),Object(S.jsxs)("footer",{className:"cadeira-card__footer",children:[t.map((function(e){var a="Teste"===e.avaliacao&&1===e.ordem;if(e.cadeiras.find((function(e){return e.id===A.cadeira.id}))&&a){var t=new Date(e.dataRealizacao),r=Object(N.a)(t,7),c=Object(T.a)(r,"d MMMM yyyy",{locale:C.a}),i="\xdaltimo dia de Lan\xe7amento das notas  ".concat(1===e.ordem?" das Primeiras Avalia\xe7\xf5es":2===e.ordem?" das Segundas Avalia\xe7\xf5es ":"Exame"===e.avaliacao?"do Exame Normal":" de Recorr\xeancia","  ");return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:i}),Object(S.jsx)("div",{children:c})]},e.id)}return null})),Object(S.jsx)("div",{className:"cadeira-card__comments-count"}),"/teacher/notas/pauta"==g?Object(S.jsx)(b.a,{className:"cadeira-card__pauta",onClick:z,style:{display:r?"none":"block"},children:"Imprimir Pauta"}):Object(S.jsx)(b.a,{className:"cadeira-card__pauta",onClick:z,style:{display:r?"none":"block"},children:"Difinir Avalia\xe7\xf5es"}),"/teacher/notas/pauta"==g?Object(S.jsx)(d.c,{className:"cadeira-card__pauta",to:"/teacher/pauta?cadeira=".concat(btoa(A.cadeira.id),"&curso=").concat(btoa(A.curso.id),"&turma=").concat(btoa(A.turma.id)),children:"Ver a Pauta"}):r?Object(S.jsx)(d.c,{className:"cadeira-card__pauta",to:"/teacher/notasExame?cadeira=".concat(btoa(A.cadeira.id),"&curso=").concat(btoa(A.curso.id),"&turma=").concat(btoa(A.turma.id)),children:"Lan\xe7ar Notas de Exame"}):Object(S.jsx)(d.c,{className:"cadeira-card__pauta",to:"/pauta/pautaCadeira?cadeira=".concat(btoa(A.cadeira.id),"&curso=").concat(btoa(A.curso.id),"&turma=").concat(btoa(A.turma.id)),children:"Lan\xe7ar Notas"})]})]}),E&&Object(S.jsxs)(l.a,{open:I,onClose:F,"aria-labelledby":"form-dialog-title",children:[Object(S.jsx)(j.a,{id:"form-dialog-title",children:"Tipo da Avalia\xe7\xe3o"}),Object(S.jsxs)(h.a,{children:[Object(S.jsx)(p.a,{children:"Por favor, defina o tipo de avalia\xe7\xe3o e a quantidade de avalia\xe7\xf5es"}),Object(S.jsx)(m.d,{initialValues:{},validationSchema:U,onSubmit:function(){var e=Object(i.a)(c.a.mark((function e(a,t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.setSubmitting,e.prev=1,a.cadeira=A.cadeira,a.turma=A.turma,e.next=6,Promise.resolve(Object(y.a)().postAvalicoes([a]));case 6:_.a.fire("\xcaxito!","Avalia\xe7\xe3o cadastrada com sucesso!","success"),F(),G(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.status>=500?(_.a.fire({icon:"error",title:"Erro",text:e.t0.response.data.message,footer:"Se o erro persistir, por favor, entre em contacto com o Centro Inform\xe1tico"}),F()):e.t0.response.status<500&&(_.a.fire({icon:"warning",title:"Informa\xe7\xe3o",text:e.t0.response.data.message,footer:"Se o erro persistir, por favor, entre em contacto com o seu departamento"}),F());case 14:r(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t){return e.apply(this,arguments)}}(),children:function(e){var a=e.values,t=e.touched,r=e.errors,c=e.isSubmitting,i=e.handleChange,n=e.handleBlur;e.handleSubmit;return Object(S.jsxs)(m.c,{children:[Object(S.jsxs)(x.a,{container:!0,spacing:2,children:[Object(S.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(O.a,{type:"text",variant:"outlined",name:"teste",error:r.teste&&t.teste,helperText:r.teste,onChange:i,select:!0,value:a.teste,margin:"dense",id:"teste",fullWidth:!0,label:"Tipo de Avalia\xe7\xe3o",children:V.map((function(e){return Object(S.jsx)(v.a,{value:e,children:e},e)}))})}),Object(S.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(O.a,{type:"text",variant:"outlined",name:"qtdTeste",error:r.qtdTeste&&t.qtdTeste,helperText:r.qtdTeste,onChange:i,onBlur:n,value:a.qtdTeste,margin:"dense",id:"qtdTeste",fullWidth:!0,label:"Quantidades de avaliacoes"})}),Object(S.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(O.a,{type:"text",variant:"outlined",name:"trabalho",error:r.trabalho&&t.trabalho,helperText:r.trabalho,onChange:i,select:!0,value:a.trabalho,margin:"dense",id:"trabalho",fullWidth:!0,label:"Tipo de Avaliacao",children:Y.map((function(e){return Object(S.jsx)(v.a,{value:e,children:e},e)}))})}),Object(S.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(O.a,{type:"text",variant:"outlined",name:"qtdtrabalho",error:r.qtdtrabalho&&t.qtdtrabalho,helperText:r.qtdtrabalho,onChange:i,onBlur:n,value:a.qtdtrabalho,margin:"dense",id:"qtdtrabalho",fullWidth:!0,label:"Quantidades de trabalhos"})})]}),Object(S.jsxs)(f.a,{children:[Object(S.jsx)(b.a,{onClick:F,children:"Cancelar"}),Object(S.jsx)(b.a,{type:"submit",disabled:c,children:"Salvar"})]})]})}})]})]})]},A.id)}}}]);
//# sourceMappingURL=42.ca8327de.chunk.js.map