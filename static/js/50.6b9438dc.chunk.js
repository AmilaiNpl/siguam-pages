(this.webpackJsonpSIGUAM=this.webpackJsonpSIGUAM||[]).push([[50],{1642:function(e,a,t){"use strict";t.r(a);var n=t(15),c=t(55),i=t.n(c),o=t(95),r=t(11),s=t(0),l=t.n(s),u=t(590),d=t(499),j=t(315),p=t(622),b=t(626),m=t(621),O=t(613),h=t(313),x=t(623),f=t(632),v=t(600),g=t(652),y=t(682),I=t.n(y),S=t(862),N=t(617),D=t(602),A=t(625),C=t(606),w=t(644),P=t(1665),E=t(1640),k=t(1663),M=t(595),T=t(1592),L=t(633),z=t(189),q=t.n(z),B=t(185),F=t.n(B),W=t(83),V=t(655),_=t(1),U=Object(u.a)((function(e){return{root:{"&:hover":{backgroundColor:"transparent"}}}})),G=[],H=[],J=[],K=[],R=[],Q=[],X=[],Y=[],Z={},$=[],ee=[];a.default=function(){var e=U(),a=Object(s.useState)({}),t=Object(r.a)(a,2),c=t[0],u=t[1],y=Object(s.useState)(!1),z=Object(r.a)(y,2),B=z[0],ae=z[1],te=Object(s.useState)(""),ne=Object(r.a)(te,2),ce=(ne[0],ne[1]),ie=Object(s.useState)(new Date),oe=Object(r.a)(ie,2),re=(oe[0],oe[1]),se=Object(s.useState)(new Date),le=Object(r.a)(se,2),ue=(le[0],le[1]),de=Object(s.useState)(!0),je=Object(r.a)(de,2),pe=je[0],be=je[1],me=Object(s.useState)(!1),Oe=Object(r.a)(me,2),he=(Oe[0],Oe[1]),xe=Object(s.useState)(""),fe=Object(r.a)(xe,2),ve=(fe[0],fe[1]),ge=l.a.useState(!1),ye=Object(r.a)(ge,2),Ie=(ye[0],ye[1]),Se=Object(s.useState)(!1),Ne=Object(r.a)(Se,2),De=Ne[0],Ae=Ne[1],Ce=Object(s.useState)(!1),we=Object(r.a)(Ce,2),Pe=we[0],Ee=we[1],ke=Object(s.useState)(!0),Me=Object(r.a)(ke,2),Te=Me[0],Le=Me[1],ze=function(e,a){"clickaway"!==a&&Ie(!1)};l.a.Fragment,b.a,L.a,q.a;Object(s.useEffect)((function(){!function(){qe.apply(this,arguments)}(),setTimeout((function(){Le(!1)}),2e3)}),[]),Object(s.useEffect)((function(){var e=setTimeout((function(){Ee(!0)}),5e3);return function(){return clearTimeout(e)}}),[]);function qe(){return(qe=Object(o.a)(i.a.mark((function e(){var a,t,c,o,s,l,d,j,p,b,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(a=window.location.href.split("/"))[a.length-1],console.log(a),e.next=5,Promise.all([Object(W.a)().geInscricaoById("/".concat(a,"?campos=id,nome,numero,apelido,mae,pai,sexo,dataNascimento,email,telemovel,nacionalidade,cidade,naturalidade,tipoDocumento,numeroDocumento,dataEmissao,curriculo.id,curriculo.ano,curso.id,curso.nome")),Object(W.a)().buscarSexo(),Object(W.a)().buscarDocumentoEst(),Object(W.a)().buscarCurso("?campos=id,nome"),Object(W.a)().buscarPaises(),Object(W.a)().buscarProvincia("?campos=id,name,country_id.id"),Object(W.a)().buscarCidades("?campos=id,name,regiaoPai.id,regiaoPai.name"),Object(W.a)().getEspecilizacao("?campos=id,nome,curso.id,curso.nome")]);case 5:t=e.sent,c=Object(r.a)(t,8),o=c[0],s=c[1],l=c[2],d=c[3],j=c[4],p=c[5],b=c[6],m=c[7],G=s.data,H=l.data,J=p.data,R=b.data,K=j.data,X=d.data,Z=o.data,$=m.data,console.log("===Estudante: ",Z),u(Object(n.a)({},Z)),be(!1),ae(!B);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=Object(o.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y=J.filter((function(e){return e.country_id.id==a.id})),ce(Y);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(){return(Fe=Object(o.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q=R.filter((function(e){return e.regiaoPai.id==a.id}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var We=j.b().shape({apelido:j.d().min(3,"Deve ter no minio 3 caratere").required("Obrigatorio"),nome:j.d().min(3,"Deve ter no minio 3 caratere").required("Campo Obrigatorio"),sexo:j.d().oneOf(["Masculino","Femenino"],"Required").required("Campo Obrigatorio"),pai:j.d().min(3,"Deve ter no minio 3 carateres").required("Campo Obrigatorio"),mae:j.d().min(3,"Deve ter no minio 3 carateres").required("Campo Obrigatorio")});return Object(_.jsx)(p.a,{className:"AppNovoEstudante",children:Te?Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"20%"},children:Object(_.jsx)(d.a,{color:"#36d7b7"})}):Object(_.jsx)(m.a,{elevation:5,style:{padding:"50px 25px",width:750,margin:" auto"},children:pe?Object(_.jsx)("div",{children:Pe?Object(_.jsxs)(C.a,{severity:"warning",children:[Object(_.jsx)(w.a,{children:"Tempo de Espera Excedido"}),"Deveria mostrar alguma informa\xe7\xe3o. Por favor, avise o ",Object(_.jsx)("strong",{children:"CIAM"})," sobre este problema."]}):Object(_.jsx)("div",{children:"Processando!"})}):Object(_.jsxs)("div",{children:[Object(_.jsxs)(O.a,{align:"left",children:[Object(_.jsx)(h.a,{variant:"h4",children:"Alterar dados do Estudante"}),Object(_.jsx)(h.a,{variant:"caption",children:"Prencha os dados para alterar dados do estudante"})]}),Object(_.jsx)("br",{}),Object(_.jsx)(g.d,{initialValues:c,validationSchema:We,onSubmit:function(e,a){var t=a.setSubmitting;function n(){return(n=Object(o.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve(Object(W.a)().putEstudantes(a));case 3:F.a.fire("Exito!","Dados do Estudante atualizado com sucesso!","success"),ve("/student/list"),he(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),400==e.t0.response.status?F.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.map((function(e,a){return e.mensagemUsuario}))}):F.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(e){n.apply(this,arguments)}(e),setTimeout((function(){t(!1)}),500)},children:function(a){var t=a.values,c=(a.touched,a.errors,a.dirty,a.isSubmitting,a.handleChange,a.handleBlur,a.handleSubmit,a.handleReset,a.setFieldValue);return Object(_.jsx)(g.c,{children:Object(_.jsxs)(O.a,{container:!0,spacing:2,children:[Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(V.a,{name:"apelido",label:"Apelido",placeholder:"Digite \xfaltimo nome",helperText:Object(_.jsx)(g.a,{name:"apelido",required:!0,fullWidth:!0}),error:a.errors.apelido&&a.touched.apelido})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(V.a,{name:"nome",label:"Nome completo (Sem incluir o apelido)",placeholder:"Digite nome completo",helperText:Object(_.jsx)(g.a,{name:"nome"}),error:a.errors.nome&&a.touched.nome})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(V.a,{name:"pai",label:"Pai(Filia\xe7\xe3o)",placeholder:"Digite nome do pai",helperText:Object(_.jsx)(g.a,{name:"[pai]"}),error:a.errors.pai&&a.touched.pai})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(V.a,{name:"mae",label:"M\xe3e (Filia\xe7\xe3o)",placeholder:"Digite nome da m\xe3e",helperText:Object(_.jsx)(g.a,{name:"mae"}),error:a.errors.mae&&a.touched.mae})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsxs)(x.a,{component:"fieldset",children:[Object(_.jsx)(h.a,{variant:"body1",gutterBottom:!0,children:"Sexo"}),Object(_.jsx)(N.a,{row:!0,"aria-label":"sexo",name:"sexo",value:t.sexo,onChange:function(e){c("sexo",e.target.value)},children:G.map((function(e){return Object(_.jsx)(f.a,{value:e,control:Object(_.jsx)(D.a,{}),label:e},e)}))}),Object(_.jsx)(A.a,{})]})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(E.b,{dateAdapter:P.a,children:Object(_.jsx)(M.a,{spacing:3,children:Object(_.jsx)(k.a,{label:"Data de Nascimento",name:"dataNascimento",format:"dd/MM/yyyy",value:t.dataNascimento,onChange:function(e){re(e),c("dataNascimento",Object(T.a)(e,"yyyy-MM-dd"))},KeyboardButtonProps:{"aria-label":"change date"},renderInput:function(e){return Object(_.jsx)(v.a,Object(n.a)({},e))}})})})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(S.a,{name:"nacionalidade",onChange:function(e,a){c("nacionalidade",a),function(e){Be.apply(this,arguments)}(a)},value:t.nacionalidade,fullWidth:!0,id:"nacionalidade",getOptionLabel:function(e){return e.name},options:K,style:{minWidth:200},renderInput:function(e){return Object(_.jsx)(v.a,Object(n.a)(Object(n.a)({variant:"outlined",margin:"dense",label:"Nacionalidade",fullWidth:!0},e),{},{placeholder:"Seleccione uma op\xe7\xe3o"}))}})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(S.a,{name:"naturalidade",onChange:function(e,a){c("naturalidade",a),function(e){Fe.apply(this,arguments)}(a)},value:t.naturalidade,id:"controllable-states-demo",getOptionLabel:function(e){return e.name},options:Y,renderInput:function(e){return Object(_.jsx)(v.a,Object(n.a)(Object(n.a)({},e),{},{InputLabelProps:{shrink:!0},placeholder:"--Selecione--",label:"Prov\xedncia",variant:"outlined"}))}})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(S.a,{name:"cidade",onChange:function(e,a){c("cidade",a)},id:"controllable-states-demo",value:t.cidade,getOptionLabel:function(e){return e.name},options:Q,renderInput:function(e){return Object(_.jsx)(v.a,Object(n.a)(Object(n.a)({},e),{},{InputLabelProps:{shrink:!0},placeholder:"--Selecione--",label:"Cidade",variant:"outlined"}))}})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(_.jsxs)(x.a,{component:"fieldset",children:[Object(_.jsx)(h.a,{variant:"body1",gutterBottom:!0,children:"Tipo de Documento"}),Object(_.jsx)(N.a,{row:!0,"aria-label":"tipoDocumento",name:"tipoDocumento",value:t.tipoDocumento,onChange:function(e){c("tipoDocumento",e.target.value)},children:H.map((function(e){return Object(_.jsx)(f.a,{value:e.values,control:Object(_.jsx)(D.a,{}),label:e.label},e)}))}),Object(_.jsx)(A.a,{})]})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(V.a,{name:"numeroDocumento",label:"N\xba de identifica\xe7\xe3o",placeholder:"Digite o n\xfamero ",helperText:Object(_.jsx)(g.a,{name:"apelido"}),error:a.errors.apelido&&a.touched.apelido})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(E.b,{dateAdapter:P.a,children:Object(_.jsx)(M.a,{spacing:3,children:Object(_.jsx)(k.a,{label:"Data de Emissao",name:"dataEmissao",format:"dd/MM/yyyy",value:t.dataEmissao,onChange:function(e){ue(e),c("dataEmissao",Object(T.a)(e,"yyyy-MM-dd"))},KeyboardButtonProps:{"aria-label":"change date"},renderInput:function(e){return Object(_.jsx)(v.a,Object(n.a)({},e))}})})})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(V.a,{name:"telemovel",label:"Telem\xf3vel",placeholder:"Digite o n\xfamero "})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(V.a,{name:"email",label:"E-mail",placeholder:"Digite o e-mail "})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(S.a,{name:"curso",onChange:function(e,a){c("curso",a),$.filter((function(e){return e.curso.id===a.id})).length>0?(console.log(a.nome,"Entrou aqui"),Ae(!0)):Ae(!1)},value:t.curso,id:"controllable-states-demo",getOptionLabel:function(e){return e.nome},options:X,renderInput:function(e){return Object(_.jsx)(v.a,Object(n.a)(Object(n.a)({},e),{},{InputLabelProps:{shrink:!0},placeholder:"--Selecione--",label:"Curso",variant:"outlined"}))}})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(S.a,{name:"curriculo",value:t.curriculo,onChange:function(e,a){c("curriculo",a)},id:"controllable-states-demo",getOptionLabel:function(e){return e.ano},options:ee,renderInput:function(e){return Object(_.jsx)(v.a,Object(n.a)(Object(n.a)({},e),{},{InputLabelProps:{shrink:!0},placeholder:"--Selecione--",label:"Curriculo",variant:"outlined"}))}})}),De&&Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,className:"AppInput",children:Object(_.jsx)(S.a,{name:"especializacao",value:t.especializacao,onChange:function(e,a){c("especializacao",a)},id:"controllable-states-demo",getOptionLabel:function(e){return e.nome},options:$,renderInput:function(e){return Object(_.jsx)(v.a,Object(n.a)(Object(n.a)({},e),{},{InputLabelProps:{shrink:!0},placeholder:"--Selecione--",label:"Especializacao",variant:"outlined"}))}})}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:12,children:Object(_.jsx)(b.a,{variant:"contained",color:"primary",type:"submit",size:"large",className:e.button,startIcon:Object(_.jsx)(I.a,{}),children:"Actualizar"})})]})})}})]})})})}},655:function(e,a,t){"use strict";t(0);var n=t(590),c=t(600),i=t(652),o=t(1),r=Object(n.a)({inputLabel:{fontSize:"1.2rem"}});a.a=function(e){var a=r();return Object(o.jsx)(i.b,{as:c.a,name:e.name,id:"outlined-full-width",label:e.label,size:"small",type:e.type,placeholder:e.placeholder,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0,className:a.inputLabel},variant:"outlined",helperText:e.helperText,error:e.error})}},682:function(e,a,t){"use strict";var n=t(112),c=t(111);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;c(t(0));var i=n(t(134)),o=t(1),r=(0,i.default)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");a.default=r}}]);
//# sourceMappingURL=50.6b9438dc.chunk.js.map