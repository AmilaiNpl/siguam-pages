(this.webpackJsonpSIGUAM=this.webpackJsonpSIGUAM||[]).push([[54],{1677:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var o=n(55),a=n.n(o),r=n(15),i=n(95),c=n(11),s=n(689),u=n.n(s),l=n(0),d=(n(600),n(626)),b=n(96),m=n(1),j=b.a.getCurrentUser(),p=function(e){return[{name:"NO",label:"##",options:{filter:!1,sort:!0}},{name:"numero",label:"N\xfamero",options:{filter:!0,sort:!0}},{name:"nome",label:"Nome",options:{filter:!1,sort:!0}},{name:"sexo",label:"Genero",options:{filter:!0,sort:!1}},{name:"curso",label:"Curso"},{name:"turma",label:"Turma"},{name:"matricula",label:"Ano",options:{filter:!0,sort:!0}},{name:"A\xe7\xf5es",options:{filter:!1,sort:!1,empty:!0,customBodyRender:function(t,n,o){var a=n.rowIndex,r=n.tableData[a].id;return Object(m.jsx)("div",{children:(j.authorities.includes("ADMIN")||j.authorities.includes("RA_N1"))&&Object(m.jsx)(d.a,{onClick:function(){return e(r)},children:"Editar"})})}}}]},f=n(304),O=n(620),h=n(83),x=n(40),v=n(499),g=n(776),S=n.n(g),A=[],w=[];function y(){var e=Object(x.useHistory)(),t=Object(l.useState)(null),n=Object(c.a)(t,2),o=(n[0],n[1]),s=Object(l.useState)(0),d=Object(c.a)(s,2),j=d[0],g=d[1],y=Object(l.useState)(!1),C=(Object(c.a)(y,2)[1],Object(l.useState)(!0)),k=(Object(c.a)(C,2)[1],Object(l.useState)(!1)),I=Object(c.a)(k,2),E=I[0],M=I[1],N=Object(l.useState)(!0),T=Object(c.a)(N,2),D=T[0],U=T[1];Object(l.useEffect)((function(){b.a.getCurrentUser(),function(){R.apply(this,arguments)}(),setTimeout((function(){U(!1)}),2e3)}),[]);function R(){return(R=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return"Primeiro"===e?"1o Ano":"Segundo"===e?"2o Ano":"Terceiro"===e?"3o Ano":"Quarto"===e?"4o Ano":"Quinto"===e?"5o Ano":void 0},e.next=3,Promise.resolve(Object(h.a)().getEstudantesMatriculados("?campos=nome,id,apelido,sexo,numero,situacao"));case 3:w=e.sent,A=w.data.map((function(e,n){return Object(r.a)(Object(r.a)({},e),{},{NO:n+1,id:e[0].id,nome:e[0].nome+" "+e[0].apelido,sexo:"Masculino"===e[0].sexo?"M":"F",numero:e[0].numero,turma:"Expulso"==e[0].situacao?"Expulso":e[1],curso:e[2].nome,matricula:null===e[3]?"Null":t(e[3])})})),M(!E);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsx)("div",{children:D?Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"20%"},children:Object(m.jsx)(v.a,{color:"#36d7b7"})}):Object(m.jsx)(O.a,{theme:Object(f.a)({overrides:{MUIDataTableHeadCell:{fixedHeader:{backgroundColor:"darkblue",color:"white"}},MUIDataTableSelectCell:{headerCell:{backgroundColor:"darkblue"},checkboxRoot:{color:"white",filter:"brightness(0.5)"},expandDisabled:{visibility:"hidden"}}}}),children:Object(m.jsx)(u.a,{title:"Lista de Estudantes",columns:p((function(t){console.log(t,"Id");var n=S.a.AES.encrypt(t.toString(),"ciam2023");console.log("Incripitado ",n),e.push("/student/student_edit?id=".concat(n))})),data:A,options:{onRowClick:function(t,n){var a=(new Date).getTime();a-j<300?function(t,n){var a=n.rowIndex,r=A[a];o(r);var i=r.id,c=S.a.AES.encrypt(i.toString(),"ciam2023");e.push("/student/detalhes?id=".concat(c))}(0,n):g(a)}}})})})}},777:function(e,t){}}]);
//# sourceMappingURL=54.fd0e7686.chunk.js.map